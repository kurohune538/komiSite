var pageStatus;
$(document).ready(function() {
  //load画面
  loadImg();
  $(window).scroll(function() {
    var st = $(window).scrollTop();
    console.log("scrollTop" + st);
    headerFadeIn(st);
  });
  scrollToContent();
  pageStatus = 'about';
  appendDom('about');
});

//読み込み終了時
window.onload = function() {
  $(function() {
    $('.loading-bg').fadeOut(1500, function() {isLoaded = true;});
  })

}

var deg = 0;
var isLoaded = false;
function loadImg() {
  deg += 180;
  $('.loading-img').css('transform', 'rotate('+ deg + 'deg)');
  if(isLoaded){
  }
  setTimeout(loadImg,1700);
}

//scrollさせる、終わったらheader出現
function scrollToContent() {
  $('.next-pointer img').click(function() {
    $('body').animate({
      scrollTop: $('.about-content-wrapper').offset().top
    }, 1200,headerFadeIn());
  });
}

function headerFadeIn(scroll) {
  if(scroll >= 700) {
    $('header').fadeIn(1200);
    $('.top-wrapper').fadeOut(0);
  }
  //$('html').css('overflow', 'auto');
}

function appendDom(category) {
  pageStatus = category;
  if(pageStatus =='about') {
    //contentを入れ替え
    $('.works-content-wrapper').fadeOut('slow');
    $('.about-content-wrapper').fadeIn(1000);
    //tabの背景色の初期化
    $('ul.menu li a').css('background-color', 'rgba(0,0,0,0)');
    //headerの色の変更
    $('.header-wrapper').animate({
      backgroundColor: "#FFEC00"
    }, 500);
    //aboutのみずっとオレンジ
    $('.about-tab').animate({
      backgroundColor: "#FFBB3A"
    }, 0);

    //その他はhoverで戻る
    $('.works-tab, .blog-tab, .contact-tab').hover(function() {
      $(this).animate({
        backgroundColor: "#FFBB3A"
      }, 100);
    }, function() {
      $(this).animate({
        backgroundColor: "rgba(126,211,33,0)"
      }, 100);
    });
    $('.about-tab').hover(function() {
      $(this).animate({
        backgroundColor: "#FFBB3A"
      }, 0);
    })
  }else if (pageStatus == 'works') {
    //contentを入れ替え
    $('.about-content-wrapper').fadeOut('slow');
    $('.works-content-wrapper').fadeIn(1000, function() {
      worksAnimation();
    });
    //tabの背景色の初期化
    $('ul.menu li a').css('background-color', 'rgba(0,0,0,0)');

    //worksのみずっと緑
    $('.works-tab').animate({
      backgroundColor: "#8ED63E"
    }, 0);
    //headerの色の変更
    $('.header-wrapper').animate({
      backgroundColor: "#539B00"
    }, 500);

    //その他はhoverで戻る
    $('.about-tab, .blog-tab, .contact-tab').hover(function() {
      $(this).animate({
        backgroundColor: "#8ED63E"
      }, 100);
    }, function() {
      $(this).animate({
        backgroundColor: "rgba(126,211,33,0)"
      }, 100);
    });
    $('.works-tab').hover(function() {
      $(this).animate({
        backgroundColor: "#8ED63E"
      }, 0);
    })
  }else if (pageStatus == 'blog') {
    $('.about-content-wrapper').fadeOut('slow');

  }else {
    $('.about-content-wrapper').fadeOut('slow');

  }
}
//about----------------------------------------------
function aboutAnimation() {

}
//works----------------------------------------------
var worksCount = 0;
var worksCategory = ['.web-works','.app-works','.hardware-works', '.mp-works'];
function worksAnimation() {
  slideInWorks(worksCategory[worksCount]);
  fadeInIcons();
}

function slideInWorks(works) {
  $(works).css('display', 'block');
  $(works).animate({
    marginTop: '0'
  }, 700,'easeOutCirc',function(){
    fadeInIcon();
    worksCount += 1;
    slideInWorks(worksCategory[worksCount]);
  });
}

function fadeInIcons() {

}
//blog----------------------------------------------
function blogAnimation() {

}

//contact----------------------------------------------
function contactAnimation() {

}
